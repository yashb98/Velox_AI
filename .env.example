# .env.example — Velox AI local development environment
#
# Copy this file to .env and fill in your real credentials:
#   cp .env.example .env
#
# Then start the full stack:
#   docker compose up --build
#
# ── Required ─── must be set before the app will work
# ── Optional ─── service degrades gracefully when absent
# ── Infra    ─── set automatically by docker-compose (don't change)

# ─────────────────────────────────────────────────────────────────────────────
# INFRA (managed by docker-compose — change only if you run services externally)
# ─────────────────────────────────────────────────────────────────────────────

# PostgreSQL — docker-compose default (postgres:devpass@db:5432/velox_local)
# Override if using an external Postgres (e.g. Neon, Supabase, Cloud SQL)
DATABASE_URL=postgresql://postgres:devpass@db:5432/velox_local

# Redis — docker-compose default
REDIS_HOST=redis
REDIS_PORT=6379

# ─────────────────────────────────────────────────────────────────────────────
# GOOGLE / GEMINI (Required)
# Get from: https://aistudio.google.com/app/apikey
# ─────────────────────────────────────────────────────────────────────────────
GEMINI_API_KEY=

# ─────────────────────────────────────────────────────────────────────────────
# DEEPGRAM — Speech-to-text + TTS (Required)
# Get from: https://console.deepgram.com → API Keys
# ─────────────────────────────────────────────────────────────────────────────
DEEPGRAM_API_KEY=

# ─────────────────────────────────────────────────────────────────────────────
# TWILIO (Required for voice calls)
# Get from: https://console.twilio.com → Account Info
# TWILIO_AUTH_TOKEN is used to validate webhook signatures (security critical)
# ─────────────────────────────────────────────────────────────────────────────
TWILIO_AUTH_TOKEN=
# TWILIO_ACCOUNT_SID is not used server-side (only needed for the Twilio CLI)
# TWILIO_ACCOUNT_SID=

# ─────────────────────────────────────────────────────────────────────────────
# CLERK — User authentication (Required)
# Get from: https://dashboard.clerk.com → API Keys
# ─────────────────────────────────────────────────────────────────────────────
CLERK_SECRET_KEY=sk_test_...
VITE_CLERK_PUBLISHABLE_KEY=pk_test_...

# ─────────────────────────────────────────────────────────────────────────────
# STRIPE — Billing & subscriptions (Required)
# Get from: https://dashboard.stripe.com → Developers → API Keys
#
# Price IDs — create products in Stripe Dashboard, copy the price IDs here:
#   Starter: $49/mo  → 1,000 minutes
#   Pro:     $199/mo → 5,000 minutes
#   Enterprise: $499/mo → 20,000 minutes
# ─────────────────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...

STRIPE_STARTER_PRICE_ID=price_...
STRIPE_PRO_PRICE_ID=price_...
STRIPE_ENTERPRISE_PRICE_ID=price_...

# ─────────────────────────────────────────────────────────────────────────────
# FRONTEND API URL (Required for velox-web Vite build)
# In docker-compose: http://localhost:8080 (host-to-host, not container name)
# In production:     https://api.yourdomain.com
# ─────────────────────────────────────────────────────────────────────────────
VITE_API_URL=http://localhost:8080

# ─────────────────────────────────────────────────────────────────────────────
# ELEVENLABS — High-quality TTS (Optional)
# Get from: https://elevenlabs.io/settings/api-keys
# Voices with ID prefix "el_" are automatically routed to ElevenLabs.
# If not set, Deepgram Aura is used for all TTS.
# ─────────────────────────────────────────────────────────────────────────────
ELEVENLABS_API_KEY=

# ─────────────────────────────────────────────────────────────────────────────
# LANGFUSE — LLM observability / tracing (Optional)
# Get from: https://cloud.langfuse.com → Project Settings → API Keys
# If not set, tracing is silently disabled (no crash).
# ─────────────────────────────────────────────────────────────────────────────
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
# LANGFUSE_BASE_URL=https://cloud.langfuse.com  # default; override for self-hosted

# ─────────────────────────────────────────────────────────────────────────────
# MLFLOW — Experiment tracking (Optional)
# docker compose --profile mlflow up → starts MLflow at http://localhost:5000
# If running the mlflow profile, this is pre-wired (no change needed).
# For external MLflow: set full URI e.g. https://mlflow.yourdomain.com
# ─────────────────────────────────────────────────────────────────────────────
MLFLOW_TRACKING_URI=http://mlflow:5000

# ─────────────────────────────────────────────────────────────────────────────
# ADK PYTHON SERVICE — Multi-agent LLM pipeline (Optional)
# docker compose automatically wires api → agents (ADK_SERVICE_URL=http://agents:8000)
# Leave blank to fall back to the inline Gemini LLMService in Node.js.
# ─────────────────────────────────────────────────────────────────────────────
# ADK_SERVICE_URL=http://agents:8000  # already set by docker-compose

# ─────────────────────────────────────────────────────────────────────────────
# PHI-3 SLM — Phi-3-mini GGUF sidecar (Optional)
# docker compose --profile slm up → starts the SLM at http://localhost:8001
# Requires: agents/slm/models/phi-3-mini-4k-instruct-q4.gguf
# ─────────────────────────────────────────────────────────────────────────────
# PHI3_SERVICE_URL=http://slm:8001/generate  # already set by docker-compose

# ─────────────────────────────────────────────────────────────────────────────
# ADMIN API — Internal eval endpoint (Optional — defaults to dev key)
# Used by Cloud Scheduler to trigger POST /api/admin/run-eval
# Change this to a long random secret in production.
# ─────────────────────────────────────────────────────────────────────────────
ADMIN_API_KEY=dev-admin-key-change-me

# ─────────────────────────────────────────────────────────────────────────────
# TOOL INTEGRATIONS (All optional — each tool degrades gracefully when absent)
# Set these to point the AI voice agent at your real business systems.
# ─────────────────────────────────────────────────────────────────────────────

# Order management service
ORDER_API_URL=
ORDER_API_KEY=

# Inventory / stock service
INVENTORY_API_URL=

# Calendar / appointment booking service
CALENDAR_API_URL=

# CRM / customer profile service
CRM_API_URL=

# Human agent handoff service
HANDOFF_API_URL=

# Knowledge Base UUID for FAQ RAG search (from your Velox KB)
FAQ_KB_ID=

# ─────────────────────────────────────────────────────────────────────────────
# CORS (Optional — defaults to http://localhost:5173)
# ─────────────────────────────────────────────────────────────────────────────
# DASHBOARD_URL=http://localhost:5173
